<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="hr_leave_view_form" model="ir.ui.view">
        <field name="name">hr.leave.view.form.inherit.hr.payroll.holidays</field>
        <field name="model">hr.leave</field>
        <field name="inherit_id" ref="hr_holidays.hr_leave_view_search_manager"/>
        <field name="arch" type="xml">
            <xpath expr="filter[@name='gray']" position="after">
                <filter string="To Defer" name="to_defer" domain="[('to_defer', '=', True)]" groups="hr_holidays.group_hr_holidays_user"/>
            </xpath>
        </field>
    </record>

    <record id="hr_leave_action_open_to_defer" model="ir.actions.act_window">
        <field name="name">Time Off to Defer</field>
        <field name="res_model">hr.leave</field>
        <field name="view_mode">tree,kanban,form,calendar,activity</field>
        <field name="search_view_id" ref="hr_holidays.hr_leave_view_search_manager"/>
        <field name="domain">[('to_defer', '=', True)]</field>
    </record>
</odoo>
