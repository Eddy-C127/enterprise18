<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">
    <t t-name="mrp_workorder.MrpDisplayEmployeesPanel" owl="1">
        <div class="o_search_panel flex-grow-0 flex-shrink-0 border-end h-100 bg-view overflow-auto o_mrp_employees_panel"
             t-att-class="env.searchModel.searchPanelInfo.className" t-ref="root">
            <ul class="list-group h-100">
                <li t-foreach="props.employees.connected" t-as="employee" t-key="employee.id"
                    class="list-group-item py-3 cursor-pointer d-flex border-end-0 border-top-0"
                    t-on-click="() => props.setSessionOwner(employee.id,pin)"
                    t-att-class="{'o_no_action': !employee.workorder.length, 'o_admin_user': employee.id == props.employees.admin.id}">
                    <img t-attf-src="/web/image/hr.employee/{{employee.id}}/avatar_128" class="rounded-circle o_avatar_connected"/>
                    <div class="d-flex flex-column ps-3 w-100">
                        <div class="fw-bold" t-esc="employee.name" readonly="1"/>
                        <div t-foreach="employee.workorder" t-as="wo" t-key="wo.id" class="d-flex justify-content-between">
                            <span t-esc="wo.work_order_name + ' - ' + wo.operation_name"/>
                            <span t-esc="Math.round(wo.duration) + '\''"/>
                        </div>
                    </div>
                    <i t-if="employee.workorder.length == 0" class="fa fa-times cursor-pointer ms-auto me-0"
                       t-on-click.stop="() => props.logout(employee.id)"
                       t-att-barcode_trigger="employee.id == props.employees.admin.id ? 'logout' : false"/>
                </li>
                <li class="list-group-item py-3 cursor-pointer mt-auto d-flex border-end-0 border-top position-sticky bottom-0"
                    t-on-click="props.popupAddEmployee">
                    <span class="o_grey_avatar"/>
                    <span class="fw-bold align-self-center px-3">Add Operator</span>
                </li>
            </ul>
        </div>
    </t>
</templates>
