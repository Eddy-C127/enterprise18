<?xml version="1.0" encoding="utf-8"?>
<templates>

    <div t-name="documents_spreadsheet.SpreadsheetAction" class="o_spreadsheet_action"></div>

    <div t-name="documents_spreadsheet.ControlPanel" t-inherit="web.ControlPanel" t-inherit-mode="primary" owl="1">
        <xpath expr="//ol[hasclass('breadcrumb')]/li[hasclass('active')]" position="replace">
            <li class="breadcrumb-item active">
                <SpreadsheetName name="props.title"/>
                <a title="Toggle favorite"
                   t-on-click="_toggleFavorited"
                   t-attf-class="o_spreadsheet_favorite fa fa-lg fa-star{{!state.isFavorited ? '-o' : ' favorite_button_enabled'}}"/>
            </li>
        </xpath>
        <xpath expr="//div[hasclass('o_cp_bottom')]" position="replace"/>
        <xpath expr="//div[hasclass('o_control_panel')]" position="attributes">
            <attribute name="class" add="o_spreadsheet_cp" separator=" "/>
        </xpath>
    </div>

    <div t-name="documents_spreadsheet.SpreadsheetComponent" class="o_spreadsheet_container" owl="1">
        <Spreadsheet data="data"
                     t-on-ask-confirmation="askConfirmation"
                     t-on-notify-user="notifyUser"
                     t-on-save-content="saveData"
                     t-ref="spreadsheet"
        />
        <Dialog t-if="state.dialog.isDisplayed"
            size="'medium'"
            title="state.dialog.title || 'Odoo Spreadsheet'"
            t-on-dialog-closed.stop="closeDialog"
            >
            <div t-esc="dialogContent"/>
            <t t-set="buttons">
                <button class="btn btn-primary" t-on-click="confirmDialog">Confirm</button>
                <button class="btn btn-secondary" t-on-click="closeDialog">Cancel</button>
            </t>
        </Dialog>
    </div>

    <div t-name="documents_spreadsheet.SpreadsheetName" class="o_spreadsheet_name" owl="1">
        <input type="text" title="Rename"
            t-ref='speadsheetNameInput'
            t-att-value="props.name"
            t-on-focus="_onFocus"
            t-attf-style="width: {{state.inputSize}}px"
            t-att-placeholder="placeholder"
            t-on-input="_onInput"
            t-att-class="state.isUntitled ? 'o-spreadsheet-untitled' : ''"
            t-on-change="_onNameChanged"/>
    </div>

    <div t-name="documents_spreadsheet.PivotSidePanel" class="o_spreadsheet_pivot_side_panel" owl="1">
        <div class="o_side_panel_section">
            <div class="o_side_panel_title">Model</div>
            <div><t t-esc="props.pivot.cache and props.pivot.cache.modelLabel or props.pivot.model"/> (<t t-esc="props.pivot.model"/>)</div>
        </div>
        <div class="o_side_panel_section">
            <div class="o_side_panel_title">Domain</div>
            <DomainComponentAdapter Component="DomainSelector" model="props.pivot.model" domain="props.pivot.domain" t-key="'pivot_' + props.pivot.id"/>
        </div>
        <div class="o_side_panel_section">
            <div class="o_side_panel_title">Measures</div>
            <t t-foreach="props.pivot.measures" t-as="measure" t-key="measure">
                <div t-esc="formatMeasure(measure)"/>
            </t>
        </div>
        <div class="o_side_panel_section">
            <div class="o_side_panel_title">Dimensions</div>
            <t t-foreach="props.pivot.rowGroupBys.concat(pivot.colGroupBys)" t-as="gp" t-key="gb">
                <div t-esc="formatGroupBy(gp)"/>
            </t>
        </div>
    </div>

</templates>
