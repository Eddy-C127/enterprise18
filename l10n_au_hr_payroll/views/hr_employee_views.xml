<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="view_employee_form" model="ir.ui.view">
        <field name="name">hr.employee.form.inherit.l10n_au_hr_payroll</field>
        <field name="model">hr.employee</field>
        <field name="priority" eval="110"/>
        <field name="inherit_id" ref="hr.view_employee_form"/>
        <field name="arch" type="xml">
            <xpath expr="//header" position="inside">
                <field name="contract_id" invisible="1"/>
                <button string="Terminate Employee" name="action_terminate_contract" type="object" class="text-danger" invisible="not contract_id" groups="hr_contract.group_hr_contract_manager" />
            </xpath>
            <xpath expr="//header" position="after">
                <div
                    class="alert alert-warning mb-0" role="alert"
                    invisible="not super_account_warning or company_country_code != 'AU'">
                    <field name="super_account_warning" />
                </div>
            </xpath>
            <xpath expr="//page[@name='hr_settings']//group" position="inside">
                <group name="l10n_au_personal" string="Personal Information" invisible="company_country_code != 'AU'">
                    <field name="is_non_resident"/>
                    <field name="l10n_au_training_loan"/>
                </group>
                <group name="l10n_au_tfn_abn" string="TFN / ABN" invisible="company_country_code != 'AU'">
                    <field name="l10n_au_tfn_declaration"/>
                    <field name="l10n_au_tfn"
                        readonly="l10n_au_tfn_declaration != 'provided'"
                        required="l10n_au_tfn_declaration == 'provided'"
                        placeholder="141592653"/>
                    <field name="l10n_au_abn"/>
                    <field name="l10n_au_extra_pay"/>
                </group>
                <group name="l10n_au_info" string="Tax and Contributions" invisible="company_country_code != 'AU'">
                    <field name="l10n_au_tax_free_threshold" invisible="is_non_resident"/>
                    <field name="l10n_au_nat_3093_amount"/>
                    <field name="l10n_au_medicare_exemption"/>
                    <field name="l10n_au_medicare_surcharge" invisible="1"/> <!-- Hidden to be computed for 17.1-->
                    <field name="l10n_au_medicare_reduction"/>
                    <field name="l10n_au_scale"/>
                </group>
                <group name="l10n_au_child" string="Child Support" invisible="company_country_code != 'AU'">
                    <field name="l10n_au_child_support_deduction"/>
                    <field name="l10n_au_child_support_garnishee"/>
                    <field name="l10n_au_child_support_garnishee_amount" widget="percentage"
                        invisible="l10n_au_child_support_garnishee in ['fixed', False]"/>
                    <field name="l10n_au_child_support_garnishee_amount"
                        invisible="l10n_au_child_support_garnishee in ['percentage', False]"/>
                </group>
            </xpath>
            <xpath expr="//field[@name='registration_number']" position="replace">
                <field name="l10n_au_previous_id_bms" invisible="company_country_code != 'AU'"/>
            </xpath>
            <xpath expr="//notebook" position="inside">
                <page name="super_accounts" string="Super Accounts" invisible="company_country_code != 'AU'" groups="hr.group_hr_user">
                    <field name="l10n_au_super_account_ids">
                        <tree>
                            <field name="fund_id"/>
                            <field name="fund_type"/>
                            <field name="date_from"/>
                            <field name="account_active" widget="boolean_toggle"/>
                            <field name="proportion" widget="percentage" optional="hide"/>
                        </tree>
                    </field>
                </page>
            </xpath>
        </field>
    </record>
</odoo>
