<?xml version="1.0" encoding="utf-8"?>
<templates>

<div t-name="web_studio.Sidebar.Parameters">
    <button class="btn btn-default o_web_studio_parameters">More Parameters</button>
</div>

<div t-name="web_studio.Sidebar.Remove">
    <button class="btn btn-default o_web_studio_remove">Remove from View</button>
</div>

<div t-name="web_studio.Sidebar.XMLEditor" t-if="widget.debug">
    <button class="btn btn-default o_web_studio_xml_editor">XML Editor</button>
</div>

<div t-name="web_studio.ActionEditorSidebar" class="o_web_studio_sidebar">
    <!-- Header -->
    <div class="o_web_studio_sidebar_header">
        <div>
            <i class="fa fa-television" aria-hidden="true"/> Action
        </div>
    </div>

    <!-- Content -->
    <div class="o_web_studio_sidebar_content">
        <div>
            <label for="name">Action's title</label>
            <input id="name" name="name" t-att-value="widget.action_attrs.name" type="text"/>
        </div>
        <div>
            <label for="help">Empty List Message</label>
            <textarea id="help" name="help" cols="40" rows="5"><t t-esc="widget.action_attrs.help"/></textarea>
        </div>
        <div>
            <label for="groups">Limit visibility to groups</label>
            <div class="o_groups"/>
        </div>
        <t t-call="web_studio.Sidebar.Parameters"/>
    </div>
</div>

<div t-name="web_studio.ReportEditorSidebar" class="o_web_studio_sidebar">
    <!-- Header -->
    <div class="o_web_studio_sidebar_header">
        <div>
            <i class="fa fa-television" aria-hidden="true"/> Report
        </div>
    </div>

    <!-- Content -->
    <div class="o_web_studio_sidebar_content">
        <t t-call="web_studio.Sidebar.Parameters"/>
        <hr/>
        <t t-call="web_studio.Sidebar.XMLEditor"/>
    </div>
</div>

<div t-name="web_studio.ViewEditorSidebar" class="o_web_studio_sidebar">
    <!-- Header -->
    <div class="o_web_studio_sidebar_header">
        <div t-attf-class="o_web_studio_new #{_.contains(['form', 'list'], widget.view_type)  ? (widget.mode === 'new' ? 'actif' : '') : 'inactive'}">
            <i class="fa fa-plus" aria-hidden="true"/> Add
        </div>
        <div name="view" t-attf-class="o_web_studio_view #{widget.mode === 'view' ? 'actif' : ''}">
            <i class="fa fa-television" aria-hidden="true"/> View
        </div>
        <div t-att-name="widget.mode" t-attf-class="disabled o_web_studio_properties #{widget.mode !== 'properties' ? 'inactive' : 'actif'}">
            <i class="fa fa-server" aria-hidden="true"/> Properties
        </div>
    </div>

    <!-- Content -->
    <div class="o_web_studio_sidebar_content o_display_view">
        <t t-if="widget.mode === 'view'">
            <t t-if="widget.view_type === 'list' or widget.view_type == 'form'">
                <div>
                    <label for="create">Can Create</label>
                    <input id="create" name="create" type="checkbox"
                        t-att-checked="widget.view_attrs.create ? undefined : 'checked'"/>
                </div>
                <div>
                    <label for="edit">Can Edit</label>
                    <input id="edit" name="edit" type="checkbox"
                        t-att-checked="widget.view_attrs.edit ? undefined : 'checked'"/>
                </div>
                <div>
                    <label for="delete">Can Delete</label>
                    <input id="delete" name="delete" type="checkbox"
                        t-att-checked="widget.view_attrs.delete ? undefined : 'checked'"/>
                </div>
            </t>
            <t t-if="widget.view_type == 'list'">
                <div>
                    <label for="editable">Editable</label>
                    <select id="editable" name="editable">
                        <option></option>
                        <option t-att-selected="widget.view_attrs.editable === 'top' ? 'selected' : undefined">top</option>
                        <option t-att-selected="widget.view_attrs.editable === 'bottom' ? 'selected' : undefined">bottom</option>
                    </select>
                </div>
            </t>
            <t t-if="widget.view_type == 'kanban'">
                <div>
                    <label for="quick_create">Quick Create</label>
                    <input id="quick_create" name="quick_create" type="checkbox"
                        t-att-checked="widget.view_attrs.quick_create ? undefined : 'checked'"/>
                </div>
            </t>
            <t t-call="web_studio.Sidebar.Parameters"/>
            <hr/>
            <t t-call="web_studio.Sidebar.XMLEditor"/>
            <t t-if="widget.view_type == 'form' || widget.view_type == 'list'">
                <div>
                    <button t-if="widget.debug" class="btn btn-default o_web_studio_defaults">Default Values</button>
                </div>
                <div>
                    <label for="show_invisible">Show invisible elements</label>
                    <input id="show_invisible" type="checkbox"
                        t-att-checked="widget.show_invisible ? 'checked' : undefined"/>
                </div>
            </t>
        </t>
    </div>
    <t t-if="widget.mode === 'properties'">
        <div t-if="widget.element === 'field'" class="o_web_studio_sidebar_content o_display_field">
            <t t-call="web_studio.ViewEditorSidebar.field"/>
        </div>
        <div t-if="widget.element === 'page'" class="o_web_studio_sidebar_content o_display_page">
            <t t-call="web_studio.ViewEditorSidebar.page"/>
        </div>
        <div t-if="widget.element === 'group'" class="o_web_studio_sidebar_content o_display_group">
            <t t-call="web_studio.ViewEditorSidebar.group"/>
        </div>
        <div t-if="widget.element === 'chatter'" class="o_web_studio_sidebar_content o_display_chatter">
            <t t-call="web_studio.ViewEditorSidebar.chatter"/>
        </div>
        <div t-if="widget.element === 'button'" class="o_web_studio_sidebar_content o_display_button">
            <t t-call="web_studio.ViewEditorSidebar.button"/>
        </div>
    </t>
</div>

<!-- FieldEditor -->
<t t-name="web_studio.ViewEditorSidebar.field">
    <div>
        <label for="invisible">Invisible</label>
        <input id="invisible" name="invisible" type="checkbox" data-type="attributes"
            t-if="!(widget.modifiers.invisible and widget.modifiers.invisible !== true)"
            t-att-checked="widget.attrs.invisible ? 'checked' : undefined"/>
        <input type="text" disabled="disabled" data-type="attributes"
            t-if="widget.modifiers.invisible and widget.modifiers.invisible !== true"
            t-att-value="JSON.stringify(widget.modifiers.invisible)"/>
    </div>
    <t t-if="(widget.modifiers.invisible and widget.modifiers.invisible !== true) or !widget.attrs.invisible">
        <div>
            <label for="string">Label</label>
            <input id="string" name="string" type="text" data-type="attributes"
                t-att-value="widget.attrs.string"/>
        </div>
        <div>
            <label for="help">Help Tooltip</label>
            <input id="help" name="help" type="text" data-type="attributes"
                t-att-value="widget.attrs.help"/>
        </div>
        <div>
            <label for="placeholder">Placeholder</label>
            <input id="placeholder" name="placeholder" type="text" placeholder="Placeholder Text" data-type="attributes"
                t-att-value="widget.attrs.placeholder"/>
        </div>
        <div>
            <label for="widget">Widget</label>
            <select id="widget" name="widget">
                <option t-att-selected="widget.attrs.widget ? undefined : 'selected'"></option>
                <t t-foreach="widget.field_widgets" t-as="w">
                    <option t-att-selected="widget.attrs.widget ===  w ? 'selected' : undefined">
                        <t t-esc="w"/>
                    </option>
                </t>
            </select>
        </div>
        <div>
            <label for="required">Required</label>
            <input id="required" name="required" type="checkbox" data-type="attributes"
                t-if="!(widget.modifiers.required and widget.modifiers.required !== true)"
                t-att-checked="widget.attrs.required ? 'checked' : undefined"
                t-att-disabled="widget.field_parameters.required ? 'disabled': undefined"/>
                <input type="text" disabled="disabled" data-type="attributes"
                    t-if="widget.modifiers.required and widget.modifiers.required !== true"
                    t-att-value="JSON.stringify(widget.modifiers.required)"/>
        </div>
        <div>
            <label for="readonly">Read only</label>
            <input id="readonly" name="readonly" type="checkbox" data-type="attributes"
                t-if="!(widget.modifiers.readonly and widget.modifiers.readonly !== true)"
                t-att-checked="widget.attrs.readonly ? 'checked' : undefined"/>
                <input type="text" disabled="disabled" data-type="attributes"
                    t-if="widget.modifiers.readonly and widget.modifiers.readonly !== true"
                    t-att-value="JSON.stringify(widget.modifiers.readonly)"/>
        </div>
        <div>
            <label for="default_value">Default value</label>
            <input id="default_value" type="text" data-type="default_value"
                t-att-value="widget.default_value"/>
        </div>
        <div>
            <label for="groups">Limit visibility to groups</label>
            <div class="o_groups"/>
        </div>
        <t t-if="_.contains(['many2many', 'many2one', 'one2many'], widget.field_parameters.type)">
            <div>
                <label for="domain">Domain</label>
                <input id="domain" name="domain" type="text" data-type="attributes"
                    t-att-value="widget.attrs.domain"/>
            </div>
            <div>
                <label for="context">Context</label>
                <input id="context" name="context" type="text" data-type="attributes"
                    t-att-value="JSON.stringify(widget.attrs.context)"/>
            </div>
        </t>
    </t>
    <t t-call="web_studio.Sidebar.Parameters"/>
    <t t-call="web_studio.Sidebar.Remove"/>
</t>

<!-- PageEditor -->
<t t-name="web_studio.ViewEditorSidebar.page">
    <div>
        <label for="string">Label</label>
        <input id="string" name="string" type="text"
            t-att-value="widget.attrs.string"/>
    </div>
    <t t-call="web_studio.Sidebar.Remove"/>
</t>

<!-- GroupEditor -->
<t t-name="web_studio.ViewEditorSidebar.group">
    <div>
        <label for="string">Label Text</label>
        <input id="string" name="string" type="text"
            t-att-value="widget.attrs.string"/>
    </div>
    <t t-call="web_studio.Sidebar.Remove"/>
</t>

<!-- ChatterEditor -->
<t t-name="web_studio.ViewEditorSidebar.chatter">
    <div>
        <label for="email_alias">Email Alias</label>
        <input id="email_alias" name="email_alias" type="text" data-type="email_alias"
            t-att-value="widget.email_alias"/>
    </div>
    <t t-call="web_studio.Sidebar.Remove"/>
</t>

<!-- ButtonEditor -->
<t t-name="web_studio.ViewEditorSidebar.button">
    <div>
        <label>Icon</label>
        <input name="icon" type="text"
            t-att-value="widget.attrs.icon"/>
    </div>
    <t t-call="web_studio.Sidebar.Remove"/>
</t>


<div t-name="web_studio.NewFieldDialog" class="o_web_studio_field_dialog_form">
    <t t-if="widget.ttype === 'selection'">
        <label>Enter one value per line:</label>
        <textarea name="selectionItems" id="selectionItems" rows='4' placeholder="Value A&#10;Value B&#10;Value C"></textarea>
    </t>
    <t t-else="">
        <t t-if="widget.ttype === 'one2many'">
            <label>Select a related field:</label>
            <span class="o_many2one_field"/>
        </t>
        <t t-else="">
            <label>Relation:</label>
            <span class="o_many2one_model"/>
        </t>
    </t>
</div>

</templates>
