<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <t t-name="sale_subscription_dashboard.dashboard_option_filters" owl="1">
        <div class="btn-group dropdown"></div>

        <t t-foreach="Object.keys(availableFilters)" t-as="availableFilterKey" t-key="availableFilterKey">
            <t t-set="availableFilter" t-value="availableFilters[availableFilterKey]"/>
            <div t-if="state[availableFilter.state] &amp;&amp; state[availableFilter.state].length > 1" class="dropdown btn-group">
                <button class="dropdown-toggle btn btn-secondary dropdown-toggle" data-bs-toggle="dropdown">
                    <span t-attf-class="fa #{availableFilter.icon}"/> <t t-out="availableFilter.name"/>
                </button>
                <div class="dropdown-menu o_filter_menu" role="menu">
                    <t t-foreach="state[availableFilter.state]" t-as="stateValue" t-key="stateValue.id">
                        <a t-attf-class="dropdown-item o_contract_template_filter #{localFilters[availableFilterKey].includes(stateValue.id) ? 'selected' : ''}" 
                            t-on-click.stop="(e) => this.onFilterSelect(e, availableFilterKey, stateValue.id)"
                            role="menuitem" 
                            t-att-data-id="stateValue.id"
                        >
                            <t t-out="stateValue.name"/>
                        </a>
                    </t>
                </div>
            </div>
        </t>
        <button class="btn btn-primary" t-on-click="updateOptions">Update</button>
    </t>
</odoo>
