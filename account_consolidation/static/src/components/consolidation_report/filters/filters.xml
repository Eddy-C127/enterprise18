<?xml version="1.0" encoding="UTF-8" ?>
<templates>
    <t t-name="account_consolidation.ConsolidationReportFilters" t-inherit="account_reports.AccountReportFiltersCustomizable">
        <xpath expr="//div[@id='filter_extra_options']" position="before">
            <!-- Comparison filter -->
            <t t-if="controller.options.periods.length > 0">
                <Dropdown>
                    <button class="btn btn-secondary me-1">
                        <span class="fa fa-bar-chart"/>Comparison: <t t-esc="selectedComparisonName"/>
                    </button>

                    <t t-set-slot="content">
                        <t t-foreach="controller.options.periods" t-as="period" t-key="period_index">
                            <DropdownItem
                                class="{ 'selected': controller.options.periods[period_index].selected }"
                                onSelected="() => this.filterClicked('periods.' + period_index + '.selected', undefined, true)"
                            >
                                <t t-esc="period.name"/>
                            </DropdownItem>
                        </t>
                    </t>
                </Dropdown>
            </t>

            <!-- Journal filter -->
            <t t-if="controller.options.consolidation_journals and !hasSelectedPeriod">
                <Dropdown items="consolidationJournals">
                    <button class="btn btn-secondary me-1">
                        <span class="fa fa-bar-book"/>Journals: <t t-esc="selectedJournalName"/>
                    </button>
                </Dropdown>
            </t>
        </xpath>

        <!-- Extra options filter -->
        <xpath expr="//div[@id='filter_extra_options']" position="replace">
            <t t-call="account_consolidation.ConsolidationReportFilterExtraOptions"/>
        </xpath>
    </t>
</templates>
