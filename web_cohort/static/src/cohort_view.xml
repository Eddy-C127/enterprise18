<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">

    <t t-name="web_cohort.CohortView.Buttons" owl="1">
        <div class="btn-group" role="toolbar" aria-label="Main actions" t-on-dropdown-item-selected="onDropDownSelected">
            <t t-call="web.ReportViewMeasures">
                <t t-set="measures" t-value="model.metaData.measures"/>
                <t t-set="activeMeasures" t-value="[model.metaData.measure]"/>
            </t>
        </div>
        <div class="btn-group" t-if="env.isSmall">
            <Dropdown t-on-dropdown-item-selected="onDropDownSelected" togglerClass="'btn btn-link dropdown-toggle'" menuClass="'dropdown-menu'">
                <t t-set-slot="toggler">
                    <t t-esc="intervals[model.metaData.interval]"/>
                </t>
                <t t-foreach="intervals" t-as="interval" t-key="interval">
                    <DropdownItem class="o_menu_item dropdown-item"
                        t-att-class="{ selected: interval === model.metaData.interval }"
                        payload="{ interval: interval }"
                        parentClosingMode="'none'"
                        >
                        <t t-esc="interval_value"/>
                    </DropdownItem>
                </t>
            </Dropdown>
        </div>
        <div class="btn-group" t-else="">
            <button t-foreach="intervals" t-as="interval" t-key="interval"
                    class="btn btn-secondary o_cohort_interval_button"
                    t-att-class="{ active: interval === model.metaData.interval }"
                    t-on-click="model.updateMetaData({ interval: interval})">
                <t t-esc="intervals[interval]" />
            </button>
        </div>
        <div class="btn-group">
            <button class="btn btn-secondary fa fa-download o_cohort_download_button"
                    title="Download as Excel file"
                    t-on-click="downloadExcel"></button>
        </div>
    </t>

    <t t-name="web_cohort.CohortView" owl="1">
        <div class="o_cohort_view" t-att-class="{ o_view_sample_data: model.useSampleModel }">
            <ControlPanel t-if="env.searchModel.display.controlPanel" t-props="props.info">
                <t t-set-slot="control-panel-bottom-left">
                    <t t-call="{{ constructor.buttonTemplate }}"/>
                </t>
            </ControlPanel>
            <div class="o_content">
                <SearchPanel t-if="env.searchModel.display.searchPanel" />
                <Renderer
                    class="o_renderer"
                    model="model"
                    onRowClicked="(row) => onRowClicked(row)"
                />
            </div>
        </div>
    </t>

</templates>
