<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">

    <t t-name="planning.PlanningGanttRenderer.RowHeader" t-inherit="web_gantt.GanttRenderer.RowHeader">
        <xpath expr="//t[@t-esc='row.name']" position="replace">
            <Avatar t-if="hasAvatar(row)" t-props="getAvatarProps(row)"/>
            <t t-else="" t-esc="row.name"/>
        </xpath>
    </t>

    <t t-name="planning.PlanningGanttRenderer.Pill" t-inherit="web_gantt.GanttRenderer.Pill">
        <xpath expr="//div[hasclass('o_gantt_pill_wrapper')]" position="after">
            <t t-if="isPlanningManager and !model.useSampleModel">
                <t t-foreach="[...Array(pill.grid.column[1] - 1).keys()]" t-as="i" t-key="i">
                    <t t-set="split_tool_grid" t-value="{ column: [pill.grid.column[0] + i + 1, 1], row: pill.grid.row}"/>
                    <div class="o_gantt_pill_split_tool"
                         t-att-style="getGridPosition(split_tool_grid)"
                         t-att-data-split-tool-pill-id="pill.id + '_' + i"
                         t-on-click="(ev) => this.onPillSplitToolClicked(ev, pill, i)"
                         t-if="!env.isSmall">
                        <div class="o_slot_dashed_cut_line"/>
                        <i class="fa fa-lg fa-scissors fa-rotate-270"/>
                    </div>
                </t>
            </t>
        </xpath>
        <xpath expr="//span[hasclass('o_gantt_pill_title')]" position="after">
            <t t-if="pill.hasAvatar">
                <div class="ms-auto o_gantt_pill_avatar" t-att-title="pill.record.employee_id[1]">
                    <Avatar t-props="pill.avatarProps"/>
                </div>
            </t>
        </xpath>
    </t>

    <t t-name="planning.PlanningGanttRenderer.RowContent" t-inherit="web_gantt.GanttRenderer.RowContent" owl="1">
        <xpath expr="//div[contains(@class, 'o_gantt_group_pill')]/div" position="attributes">
            <attribute name="t-attf-class" add="{{ _computeResourceOvertimeColors(pill) }}"/>
        </xpath>
    </t>

    <t t-name="planning.PlanningGanttRenderer.Header" t-inherit="web_gantt.GanttRenderer.Header">
        <xpath expr="//div[@t-if='displayExpandCollapseButtons']" position="before">
            <strong t-ref="duplicateToolHelper" class="invisible text-success d-flex justify-content-center align-items-center">
                <i class="fa fa-lightbulb-o me-2"/>
                Press Ctrl to duplicate the shift
            </strong>
        </xpath>
    </t>

</templates>
