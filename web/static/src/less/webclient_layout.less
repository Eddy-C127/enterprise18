// ------------------------------------------------------------------
// Base layout rules, use 'webclient.less' for styling
// ------------------------------------------------------------------
html {
    height: 100%;

    .o_web_client {
        height: 100%;
        .o-flex-display();
        .o-flex-flow(column, nowrap);
        @media (max-width: @screen-xs-max) {
            overflow: auto;  // scrollbar if necessary
        }

        .navbar {
            .o-flex(0, 0, auto);
        }

        .o_control_panel {
            .o-flex(0, 0, auto);
        }

        .o_content {
            .o-flex(1, 1, auto);
            @media (min-width: @screen-sm-min) {
                overflow: auto;
                height: 100%;
            }
            position: relative;  // Allow to redistribute the 100% height to its child
            @media (max-width: @screen-xs-max) {
                position: static;  // reset the height 100% distribution on flex item
                overflow: visible;
                height: auto;
            }

            .o_view_manager_content {
                position: absolute;  // Get the 100% height of its flex parent
                top: 0;
                right: 0;
                bottom: 0;
                left: 0;
                height: 100%;
                @media (max-width: @screen-xs-max) {
                    position: static;  // reset the height 100% distribution on flex item
                    height: auto;  // reset height inheritance
                }

                .o_view_manager_content {
                    position: static;  // Reset position for nested view managers
                }
            }
        }

        .o_debug_manager {
            .o-flex(0, 0, auto);
            // dropups instead of dropdowns
            ul.dropdown-menu {
                top: auto;
                bottom: 100%;
            }
        }
        .o_debug_manager_overlay {
            position: absolute;
            // height + border
            top: @navbar-height + 1;
            bottom: @navbar-height + 1;
            left: 0;
            right: 0;
            overflow: auto;

            header {
                position: relative;
                margin: 1em;

                #o_debug_requests_selector {
                    position: absolute;
                    top: 0;
                    left: 0;
                }
            }
            div.o_debug_tooltip {
                position: absolute;
                max-width: 300px;
            }
        }

    }

    .o_application_switcher {
        margin-top: @navbar-height;
        padding-top: @navbar-height;
        @media (max-width: @screen-xs-max) {
            padding-top: 15px;
        }

        height: 100%;
        overflow: auto;
        .o-flex-display();
        .o-flex-flow(column, nowrap);
        .o-justify-content(space-between);
        .o-align-items(center);

        .o_apps {
            .o-flex(0, 0, auto);
            width: 100%;
            max-width: @screen-sm-min;

            .o_app {
                display: inline-block;
                margin: 0 1.5% 15px;
                width: 13.66%; // +3% margin = 6 apps per line
                @media (max-width: @screen-xs-max) {
                    width: 22%; // +3% margin = 4 apps per line
                }
            }
        }
    }

    .o_loading {
        position: fixed;
        bottom: 0;
        right: 0;
    }
}
