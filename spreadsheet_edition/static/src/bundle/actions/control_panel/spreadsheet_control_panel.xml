<?xml version="1.0" encoding="utf-8"?>
<templates>

<t t-name="spreadsheet_edition.SpreadsheetControlPanel" owl="1">
    <ControlPanel display="controlPanelDisplay">
        <t t-set-slot="control-panel-top-right">
            <div t-if="props.displayCollaborativeInfo" class="o_cp_top_right_sp user-select-none">
                <div class="o_spreadsheet_status o_spreadsheet_sync_status text-muted">
                    <t t-if="collaborative.isSynced">
                        <i class="fa fa-check"/>  Saved
                    </t>
                    <t t-else="">
                        <i class="fa fa-spin fa-spinner"/> Saving
                    </t>
                </div>
                <t t-set="connectedUsers" t-value="collaborative.connectedUsers"/>
                <div t-if="connectedUsers.length > 0"
                    class="o_spreadsheet_status o_spreadsheet_number_users"
                    t-att-class="connectedUsers.length > 1 ? 'text-info' : 'text-muted'"
                    t-att-data-tooltip-template="connectedUsers.length > 1 and 'spreadsheet_edition.SpreadsheetUsersTooltip'"
                    t-att-data-tooltip-info="tooltipInfo"
                >
                    <t t-if="connectedUsers.length === 1">
                        <i class="fa fa-user"/> 1
                    </t>
                    <t t-else="">
                        <i class="fa fa-users"/> <t t-esc="connectedUsers.length"/>
                    </t>
                </div>
            </div>
        </t>
        <t t-set-slot="control-panel-top-left">
            <t t-call="spreadsheet_edition.Breadcrumbs" />
        </t>
    </ControlPanel>
</t>

<t t-name="spreadsheet_edition.SpreadsheetUsersTooltip" owl="1">
    <div t-foreach="users" t-as="user" t-key="user_index">
        <span class="o_spreadsheet_user d-inline-flex">
            <img t-att-src="user.avatar" class="p-1 rounded-circle"/>
            <span class="pt-1"><t t-esc="user.name"/></span>
        </span>
    </div>
</t>
</templates>
