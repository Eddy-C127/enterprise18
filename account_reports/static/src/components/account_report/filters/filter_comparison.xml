<?xml version="1.0" encoding="UTF-8" ?>
<templates>
    <t t-name="account_reports.AccountReportFilterComparison" owl="1">
        <Dropdown togglerClass="'btn btn-secondary'">
            <t t-set-slot="toggler">
                <span class="fa fa-bar-chart me-1"/>Comparison:

                <t t-if="controller.options.comparison.filter === 'custom'">
                    <t t-if="controller.options.date.mode === 'range'">
                        <t t-esc="`${ dateFrom('comparison') } - ${ dateTo('comparison') }`"/>
                    </t>
                    <t t-if="controller.options.date.mode === 'single'">
                        <t t-esc="`Date: ${ dateTo('comparison') }`"/>
                    </t>
                </t>
                <t t-else="">
                    <t t-if="controller.options.comparison.string">
                        <t t-esc="controller.options.comparison.string"/>
                    </t>
                </t>
            </t>

            <DropdownItem onSelected="() => this.updateFilter('comparison.filter', 'no_comparison')">No Comparison</DropdownItem>

            <div class="dropdown-divider"/>

            <a class="dropdown-item">Previous Period</a>
            <div class="acc_rep_search o_filter_date">
                <label>Number of periods :</label>
                <input
                    min="1"
                    type="number"
                    t-att-value="controller.options.comparison.number_period"
                    t-on-change="(ev) => this.setNumberPeriods(ev)"
                />

                <button class="btn btn-primary" type="button" t-on-click="() => this.updateFilter('comparison.filter', 'previous_period')">
                    Apply
                </button>
            </div>

            <div class="dropdown-divider"/>

            <a class="dropdown-item">Same Period Last Year</a>
            <div class="acc_rep_search o_filter_date">
                <label>Number of periods :</label>
                <input
                    min="1"
                    type="number"
                    t-att-value="controller.options.comparison.number_period"
                    t-on-change="(ev) => this.setNumberPeriods(ev)"
                />

                <button class="btn btn-primary" type="button" t-on-click="() => this.updateFilter('comparison.filter', 'same_last_year')">
                    Apply
                </button>
            </div>

            <div class="dropdown-divider"/>

            <a class="dropdown-item">Custom</a>
            <div class="acc_rep_search o_filter_date">
                <t t-if="controller.options.date.mode === 'range'">
                    <label>Start Date :</label>
                    <DateTimeInput
                        type="'date'"
                        value="dateFrom('comparison')"
                        onChange="(dateFrom) => this.setDateFrom('comparison', dateFrom)"
                    />

                    <label>End Date :</label>
                    <DateTimeInput
                        type="'date'"
                        value="dateTo('comparison')"
                        onChange="(dateTo) => this.setDateTo('comparison', dateTo)"
                    />
                </t>

                <t t-if="controller.options.date.mode === 'single'">
                    <label>Date :</label>
                    <DateTimeInput
                        type="'date'"
                        value="dateTo('comparison')"
                        onChange="(dateTo) => this.setDateTo('comparison', dateTo)"
                    />
                </t>

                <button class="btn btn-primary" type="button" t-on-click="() => this.updateFilter('comparison.filter', 'custom')">
                    Apply
                </button>
            </div>
        </Dropdown>
    </t>
</templates>
