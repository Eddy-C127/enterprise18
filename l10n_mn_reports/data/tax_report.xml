<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="account_report_tax_report" model="account.report">
        <field name="name">Corporate Revenue Tax Report</field>
        <field name="root_report_id" ref="account.generic_tax_report"/>
        <field name="country_id" ref="base.mn"/>
        <field name="filter_multi_company">tax_units</field>
        <field name="column_ids">
            <record id="account_report_tax_report_column" model="account.report.column">
                <field name="name">Balance</field>
                <field name="expression_label">balance</field>
                <field name="figure_type">monetary_without_symbol</field>
            </record>
        </field>
        <field name="line_ids">
            <record id="tax_report_lineA" model="account.report.line">
                <field name="name">A. Calculation of tax at common rate</field>
                <field name="code">LINEA</field>
                <field name="children_ids">
                    <record id="tax_report_line1" model="account.report.line">
                        <field name="name">1. Amount of total income (1=2+...+6)</field>
                        <field name="code">LINE1</field>
                        <field name="aggregation_formula">LINE2.balance + LINE3.balance + LINE4.balance + LINE5.balance + LINE6.balance</field>
                        <field name="children_ids">
                            <record id="tax_report_line2" model="account.report.line">
                                <field name="name">1.1. Amount of tax-exempt income (2)</field>
                                <field name="code">LINE2</field>
                                <field name="groupby">account_id</field>
                                <field name="foldable" eval="True"/>
                                <field name="domain_formula">-sum([('account_id.tag_ids','=',ref('l10n_mn.tax_report_tag2'))])</field>
                            </record>
                            <record id="tax_report_line3" model="account.report.line">
                                <field name="name">1.2. Amount of income subject to tax at a special rate (3)</field>
                                <field name="code">LINE3</field>
                                <field name="aggregation_formula">LINE32.balance + LINE34.balance + LINE39.balance + LINE41.balance + LINE43.balance</field>
                            </record>
                            <record id="tax_report_line4" model="account.report.line">
                                <field name="name">1.3. Amount of income tax deducted for others according to the law (4)</field>
                                <field name="code">LINE4</field>
                                <field name="aggregation_formula">LINE46.balance + LINE48.balance + LINE50.balance + LINE52.balance</field>
                            </record>
                            <record id="tax_report_line5" model="account.report.line">
                                <field name="name">1.4. Amount of other income (5)</field>
                                <field name="code">LINE5</field>
                                <field name="groupby">account_id</field>
                                <field name="foldable" eval="True"/>
                                <field name="domain_formula">-sum([('account_id.tag_ids','=',ref('l10n_mn.tax_report_tag5'))])</field>
                            </record>
                            <record id="tax_report_line6" model="account.report.line">
                                <field name="name">1.5. Amount of income taxable at common rate (6)</field>
                                <field name="code">LINE6</field>
                                <field name="aggregation_formula">LINE7.balance + LINE8.balance + LINE9.balance + LINE10.balance + LINE11.balance + LINE12.balance + LINE13.balance + LINE14.balance + LINE15.balance + LINE16.balance + LINE17.balance</field>
                                <field name="children_ids">
                                    <record id="tax_report_line7" model="account.report.line">
                                        <field name="name">1.5.1. Income from sales of basic production and work services (7)</field>
                                        <field name="code">LINE7</field>
                                        <field name="groupby">account_id</field>
                                        <field name="foldable" eval="True"/>
                                        <field name="domain_formula">-sum([('account_id.tag_ids','=',ref('l10n_mn.tax_report_tag7'))])</field>
                                    </record>
                                    <record id="tax_report_line8" model="account.report.line">
                                        <field name="name">1.5.2. Income from sales of auxiliary production and work services (8)</field>
                                        <field name="code">LINE8</field>
                                        <field name="groupby">account_id</field>
                                        <field name="foldable" eval="True"/>
                                        <field name="domain_formula">-sum([('account_id.tag_ids','=',ref('l10n_mn.tax_report_tag8'))])</field>
                                    </record>
                                    <record id="tax_report_line9" model="account.report.line">
                                        <field name="name">1.5.3. Income from sale of shares and securities (9)</field>
                                        <field name="code">LINE9</field>
                                        <field name="groupby">account_id</field>
                                        <field name="foldable" eval="True"/>
                                        <field name="domain_formula">-sum([('account_id.tag_ids','=',ref('l10n_mn.tax_report_tag9'))])</field>
                                    </record>
                                    <record id="tax_report_line10" model="account.report.line">
                                        <field name="name">1.5.4. Goods, work and services received from others without payment (10)</field>
                                        <field name="code">LINE10</field>
                                        <field name="groupby">account_id</field>
                                        <field name="foldable" eval="True"/>
                                        <field name="expression_ids">
                                            <record id="tax_report_line10_balance" model="account.report.expression">
                                                <field name="label">balance</field>
                                                <field name="engine">domain</field>
                                                <field name="formula" eval="[('account_id.tag_ids','=',ref('l10n_mn.tax_report_tag10'))]"/>
                                                <field name="date_scope">normal</field>
                                                <field name="subformula">-sum</field>
                                            </record>
                                        </field>
                                    </record>
                                    <record id="tax_report_line11" model="account.report.line">
                                        <field name="name">1.5.5. Income from the sale of intangible assets (11)</field>
                                        <field name="code">LINE11</field>
                                        <field name="groupby">account_id</field>
                                        <field name="foldable" eval="True"/>
                                        <field name="domain_formula">-sum([('account_id.tag_ids','=',ref('l10n_mn.tax_report_tag11'))])</field>
                                    </record>
                                    <record id="tax_report_line12" model="account.report.line">
                                        <field name="name">1.5.6. Income from technical, management consulting and other services (12)</field>
                                        <field name="code">LINE12</field>
                                        <field name="groupby">account_id</field>
                                        <field name="foldable" eval="True"/>
                                        <field name="domain_formula">-sum([('account_id.tag_ids','=',ref('l10n_mn.tax_report_tag12'))])</field>
                                    </record>
                                    <record id="tax_report_line13" model="account.report.line">
                                        <field name="name">1.5.7. Interest and damages received from the person who failed to fulfill his obligations under the contract compensation income (13)</field>
                                        <field name="code">LINE13</field>
                                        <field name="groupby">account_id</field>
                                        <field name="foldable" eval="True"/>
                                        <field name="domain_formula">-sum([('account_id.tag_ids','=',ref('l10n_mn.tax_report_tag13'))])</field>
                                    </record>
                                    <record id="tax_report_line14" model="account.report.line">
                                        <field name="name">1.5.8. Actual income from foreign exchange rate differences (14)</field>
                                        <field name="code">LINE14</field>
                                        <field name="groupby">account_id</field>
                                        <field name="foldable" eval="True"/>
                                        <field name="domain_formula">-sum([('account_id.tag_ids','=',ref('l10n_mn.tax_report_tag14'))])</field>
                                    </record>
                                    <record id="tax_report_line15" model="account.report.line">
                                        <field name="name">1.5.9. Rental income from movable and immovable property (15)</field>
                                        <field name="code">LINE15</field>
                                        <field name="groupby">account_id</field>
                                        <field name="foldable" eval="True"/>
                                        <field name="domain_formula">-sum([('account_id.tag_ids','=',ref('l10n_mn.tax_report_tag15'))])</field>
                                    </record>
                                    <record id="tax_report_line16" model="account.report.line">
                                        <field name="name">1.5.10. Income from sale of movable property (16)</field>
                                        <field name="code">LINE16</field>
                                        <field name="groupby">account_id</field>
                                        <field name="foldable" eval="True"/>
                                        <field name="domain_formula">-sum([('account_id.tag_ids','=',ref('l10n_mn.tax_report_tag16'))])</field>
                                    </record>
                                    <record id="tax_report_line17" model="account.report.line">
                                        <field name="name">1.5.11. Other taxable income (17)</field>
                                        <field name="code">LINE17</field>
                                        <field name="groupby">account_id</field>
                                        <field name="foldable" eval="True"/>
                                        <field name="domain_formula">-sum([('account_id.tag_ids','=',ref('l10n_mn.tax_report_tag17'))])</field>
                                    </record>
                                </field>
                            </record>
                        </field>
                    </record>
                    <record id="tax_report_line18" model="account.report.line">
                        <field name="name">2. Cost of goods sold (18)</field>
                        <field name="code">LINE18</field>
                        <field name="groupby">account_id</field>
                        <field name="foldable" eval="True"/>
                        <field name="domain_formula">sum([('account_id.account_type','=','expense_direct_cost')])</field>
                    </record>
                    <record id="tax_report_line19" model="account.report.line">
                        <field name="name">3. Management and sales activity expenses (19)</field>
                        <field name="code">LINE19</field>
                        <field name="groupby">account_id</field>
                        <field name="foldable" eval="True"/>
                        <field name="domain_formula">sum([('account_id.account_type','=','expense'),'|',('account_id.code','=like','70%'),('account_id.code','=like','71%')])</field>
                    </record>
                    <record id="tax_report_line20" model="account.report.line">
                        <field name="name">4. Expenses of non-core activities (20)</field>
                        <field name="code">LINE20</field>
                        <field name="groupby">account_id</field>
                        <field name="foldable" eval="True"/>
                        <field name="domain_formula">sum([('account_id.account_type','=','expense'),'|','|',('account_id.code','=like','72%'),('account_id.code','=like','73%'),('account_id.code','=like','74%')])</field>
                    </record>
                    <record id="tax_report_line21" model="account.report.line">
                        <field name="name">5. Profit before tax +, loss - (21=1-18-19-20)</field>
                        <field name="code">LINE21</field>
                        <field name="aggregation_formula">LINE1.balance - LINE18.balance - LINE19.balance - LINE20.balance</field>
                    </record>
                    <record id="tax_report_line22" model="account.report.line">
                        <field name="name">6. Amount of expenses not deductible from taxable income (22)</field>
                        <field name="code">LINE22</field>
                        <field name="groupby">account_id</field>
                        <field name="foldable" eval="True"/>
                        <field name="domain_formula">sum([('account_id.tag_ids','=',ref('l10n_mn.tax_report_tag22'))])</field>
                    </record>
                    <record id="tax_report_line23" model="account.report.line">
                        <field name="name">7. Amount of reduction of taxable income (23)</field>
                        <field name="code">LINE23</field>
                        <field name="groupby">account_id</field>
                        <field name="foldable" eval="True"/>
                        <field name="domain_formula">sum([('account_id.tag_ids','=',ref('l10n_mn.tax_report_tag23'))])</field>
                    </record>
                    <record id="tax_report_line24" model="account.report.line">
                        <field name="name">8. Amount of taxable income (24=21+22-23)</field>
                        <field name="code">LINE24</field>
                        <field name="aggregation_formula">LINE21.balance + (LINE22.balance - LINE23.balance)</field>
                    </record>
                    <record id="tax_report_line25" model="account.report.line">
                        <field name="name">9. Excess of voluntary insurance premiums (25)</field>
                        <field name="code">LINE25</field>
                        <field name="groupby">account_id</field>
                        <field name="foldable" eval="True"/>
                        <field name="domain_formula">sum([('account_id.tag_ids','=',ref('l10n_mn.tax_report_tag25'))])</field>
                    </record>
                    <record id="tax_report_line26" model="account.report.line">
                        <field name="name">10. Adjusted taxable income amount (26=24+25)</field>
                        <field name="code">LINE26</field>
                        <field name="aggregation_formula">LINE24.balance + LINE25.balance</field>
                    </record>
                    <record id="tax_report_line27" model="account.report.line">
                        <field name="name">11. The amount transferred from the tax loss of the previous year to the reporting period (27)</field>
                        <field name="code">LINE27</field>
                        <field name="groupby">account_id</field>
                        <field name="foldable" eval="True"/>
                        <field name="domain_formula">-sum([('account_id.tag_ids','=',ref('l10n_mn.tax_report_tag27'))])</field>
                    </record>
                    <record id="tax_report_line28" model="account.report.line">
                        <field name="name">12. Amount of income to be taxed at the common rate (28=26-27)</field>
                        <field name="code">LINE28</field>
                        <field name="aggregation_formula">LINE26.balance - LINE27.balance</field>
                    </record>
                    <record id="tax_report_line29" model="account.report.line">
                        <field name="name">13. Tax imposed (29=28*10%)</field>
                        <field name="code">LINE29</field>
                        <field name="aggregation_formula">LINE28.balance * 0.10</field>
                    </record>
                    <record id="tax_report_line30" model="account.report.line">
                        <field name="name">14. Deductible tax amount (30)</field>
                        <field name="code">LINE30</field>
                        <field name="groupby">account_id</field>
                        <field name="foldable" eval="True"/>
                        <field name="domain_formula">sum([('account_id.tag_ids','=',ref('l10n_mn.tax_report_tag30'))])</field>
                    </record>
                    <record id="tax_report_line31" model="account.report.line">
                        <field name="name">15. OFFICIAL TAX TO BE PAYABLE BY TOTAL PERCENTAGE (31=29-30)</field>
                        <field name="code">LINE31</field>
                        <field name="aggregation_formula">LINE29.balance - LINE30.balance</field>
                    </record>
                </field>
            </record>
            <record id="tax_report_lineB" model="account.report.line">
                <field name="name">B. Calculation of special rate tax</field>
                <field name="code">LINEB</field>
                <field name="children_ids">
                    <record id="tax_report_line32" model="account.report.line">
                        <field name="name">16. Erotic publications, literature, recordings sold, used, performancesRevenue from services rendered (32)</field>
                        <field name="code">LINE32</field>
                        <field name="groupby">account_id</field>
                        <field name="foldable" eval="True"/>
                        <field name="domain_formula">-sum([('account_id.tag_ids','=',ref('l10n_mn.tax_report_tag32'))])</field>
                    </record>
                    <record id="tax_report_line33" model="account.report.line">
                        <field name="name">Erotic publications, literature, videos were sold, used, performances were heldservice income tax (33=32*40%)</field>
                        <field name="code">LINE33</field>
                        <field name="aggregation_formula">LINE32.balance * 0.40</field>
                    </record>
                    <record id="tax_report_line34" model="account.report.line">
                        <field name="name">17. Income from paid puzzles, gambling games, cash lotteries(34)</field>
                        <field name="code">LINE34</field>
                        <field name="groupby">account_id</field>
                        <field name="foldable" eval="True"/>
                        <field name="domain_formula">-sum([('account_id.tag_ids','=',ref('l10n_mn.tax_report_tag34'))])</field>
                    </record>
                    <record id="tax_report_line35" model="account.report.line">
                        <field name="name">Documentable costs (35)</field>
                        <field name="code">LINE35</field>
                        <field name="groupby">account_id</field>
                        <field name="foldable" eval="True"/>
                        <field name="domain_formula">sum([('account_id.tag_ids','=',ref('l10n_mn.tax_report_tag35'))])</field>
                    </record>
                    <record id="tax_report_line36" model="account.report.line">
                        <field name="name">Value of money and goods given to Honjvor (36)</field>
                        <field name="code">LINE36</field>
                        <field name="groupby">account_id</field>
                        <field name="foldable" eval="True"/>
                        <field name="domain_formula">sum([('account_id.tag_ids','=',ref('l10n_mn.tax_report_tag36'))])</field>
                    </record>
                    <record id="tax_report_line37" model="account.report.line">
                        <field name="name">Taxable income (37=34-35-36)</field>
                        <field name="code">LINE37</field>
                        <field name="aggregation_formula">LINE34.balance - LINE35.balance - LINE36.balance</field>
                    </record>
                    <record id="tax_report_line38" model="account.report.line">
                        <field name="name">Tax imposed (38=37x40%)</field>
                        <field name="code">LINE38</field>
                        <field name="aggregation_formula">LINE37.balance * 0.40</field>
                    </record>
                    <record id="tax_report_line39" model="account.report.line">
                        <field name="name">18. Interest income (39)</field>
                        <field name="code">LINE39</field>
                        <field name="groupby">account_id</field>
                        <field name="foldable" eval="True"/>
                        <field name="domain_formula">-sum([('account_id.tag_ids','=', ref('l10n_mn.tax_report_tag39'))])</field>
                    </record>
                    <record id="tax_report_line40" model="account.report.line">
                        <field name="name">Tax on interest income (40=39x10%)</field>
                        <field name="code">LINE40</field>
                        <field name="aggregation_formula">LINE39.balance * 0.10</field>
                    </record>
                    <record id="tax_report_line41" model="account.report.line">
                        <field name="name">19. Dividends and interest income earned in a foreign country with a double tax treaty(41)</field>
                        <field name="code">LINE41</field>
                        <field name="groupby">account_id</field>
                        <field name="foldable" eval="True"/>
                        <field name="domain_formula">sum([('account_id.tag_ids','=', ref('l10n_mn.tax_report_tag41'))])</field>
                    </record>
                    <record id="tax_report_line42" model="account.report.line">
                        <field name="name">Dividends and interest income earned in a foreign country with a double tax treaty percentage tax (42=41 x contractual percentage)</field>
                        <field name="code">LINE42</field>
                        <field name="aggregation_formula">LINE41.balance * 0.10</field>
                    </record>
                    <record id="tax_report_line43" model="account.report.line">
                        <field name="name">20. Income earned in a foreign country (43)</field>
                        <field name="code">LINE43</field>
                        <field name="groupby">account_id</field>
                        <field name="foldable" eval="True"/>
                        <field name="domain_formula">sum([('account_id.tag_ids','=', ref('l10n_mn.tax_report_tag43'))])</field>
                    </record>
                    <record id="tax_report_line44" model="account.report.line">
                        <field name="name">Withholding tax on income earned in foreign countries (44=43 * percentage prescribed by law)</field>
                        <field name="code">LINE44</field>
                        <field name="aggregation_formula">LINE43.balance * 0.10</field>
                    </record>
                    <record id="tax_report_line45" model="account.report.line">
                        <field name="name">21. AMOUNT OF OFFICIAL TAX TO BE PAYABLE AT A SPECIAL RATE(45=33+38+40+42+44)</field>
                        <field name="code">LINE45</field>
                        <field name="aggregation_formula">LINE33.balance + LINE38.balance + LINE40.balance + LINE42.balance + LINE44.balance</field>
                    </record>
                </field>
            </record>
            <record id="tax_report_lineC" model="account.report.line">
                <field name="name">V. Computation of taxes withheld by others according to law</field>
                <field name="code">LINEC</field>
                <field name="children_ids">
                    <record id="tax_report_line46" model="account.report.line">
                        <field name="name">22. Dividend income (46)</field>
                        <field name="code">LINE46</field>
                        <field name="groupby">account_id</field>
                        <field name="foldable" eval="True"/>
                        <field name="domain_formula">-sum([('account_id.tag_ids','=',ref('l10n_mn.tax_report_tag46'))])</field>
                    </record>
                    <record id="tax_report_line47" model="account.report.line">
                        <field name="name">Withholding tax on dividend income (47=46*10%)</field>
                        <field name="code">LINE47</field>
                        <field name="aggregation_formula">LINE46.balance * 0.10</field>
                    </record>
                    <record id="tax_report_line48" model="account.report.line">
                        <field name="name">23. Income from rights fees (48)</field>
                        <field name="code">LINE48</field>
                        <field name="groupby">account_id</field>
                        <field name="foldable" eval="True"/>
                        <field name="domain_formula">-sum([('account_id.tag_ids','=',ref('l10n_mn.tax_report_tag48'))])</field>
                    </record>
                    <record id="tax_report_line49" model="account.report.line">
                        <field name="name">Withholding tax on rights fee income (49=48*10%)</field>
                        <field name="code">LINE49</field>
                        <field name="aggregation_formula">LINE48.balance * 0.10</field>
                    </record>
                    <record id="tax_report_line50" model="account.report.line">
                        <field name="name">24. Income from sale of rights (50)</field>
                        <field name="code">LINE50</field>
                        <field name="groupby">account_id</field>
                        <field name="foldable" eval="True"/>
                        <field name="domain_formula">-sum([('account_id.tag_ids','=',ref('l10n_mn.tax_report_tag50'))])</field>
                    </record>
                    <record id="tax_report_line51" model="account.report.line">
                        <field name="name">Tax withheld from rights sale income (51=50*30%)</field>
                        <field name="code">LINE51</field>
                        <field name="aggregation_formula">LINE50.balance * 0.30</field>
                    </record>
                    <record id="tax_report_line52" model="account.report.line">
                        <field name="name">25. Income from sale of immovable property (52)</field>
                        <field name="code">LINE52</field>
                        <field name="groupby">account_id</field>
                        <field name="foldable" eval="True"/>
                        <field name="domain_formula">-sum([('account_id.tag_ids','=',ref('l10n_mn.tax_report_tag52'))])</field>
                    </record>
                    <record id="tax_report_line53" model="account.report.line">
                        <field name="name">Tax deducted from income from sale of immovable property (53=52*2%)</field>
                        <field name="code">LINE53</field>
                        <field name="aggregation_formula">LINE52.balance * 0.02</field>
                    </record>
                    <record id="tax_report_line54" model="account.report.line">
                        <field name="name">26. AMOUNT OF OFFICIAL TAX DEDUCTIBLE TO OTHERS ACCORDING TO THE LAW (54=47+49+51+53)</field>
                        <field name="code">LINE54</field>
                        <field name="aggregation_formula">LINE47.balance + LINE49.balance + LINE51.balance + LINE53.balance</field>
                    </record>
                </field>
            </record>
            <record id="tax_report_lineD" model="account.report.line">
                <field name="name">23. TOTAL PAYABLE TAX AMOUNT (55=31+45+54)</field>
                <field name="code">LINED</field>
                <field name="aggregation_formula">LINE31.balance + LINE45.balance + LINE54.balance</field>
            </record>
        </field>
    </record>
</odoo>
