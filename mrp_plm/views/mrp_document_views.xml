<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="view_document_file_kanban_mrp_plm" model="ir.ui.view">
        <field name="name">product.document kanban.mrp.plm</field>
        <field name="inherit_id" ref="product.product_document_kanban"/>
        <field name="model">product.document</field>
        <field name="priority">20</field>
        <field name="mode">primary</field>
        <field name="arch" type="xml">
            <field name="mimetype" position="after">
                <field name="active"/>
                <field name="res_model"/>
                <field name="origin_attachment_id"/>
            </field>
            <xpath expr="//div[hasclass('o_kanban_image')]" position="before">
                <div class="ribbon ribbon-top-right" invisible="origin_attachment_id or not active or res_model != 'mrp.eco'">
                    <span class="text-bg-primary">New</span>
                </div>
                <div class="ribbon ribbon-top-right" invisible="not active or origin_res_model != 'product.product'" groups="product.group_product_variant">
                    <span class="text-bg-secondary">Variant</span>
                </div>
            </xpath>
            <xpath expr="//a[@type='delete']" position="replace">
                <a t-if="widget.deletable" type="delete" class="dropdown-item" invisible="1">Delete</a>
                <a name="toggle_active" type="object" class="dropdown-item">
                    <span t-if="record.active.raw_value">Remove</span>
                    <span t-if="!record.active.raw_value">Undo</span>
                </a>
            </xpath>
            <xpath expr="//div[@name='bottom']" position="replace">
                <div class="mt-2" invisible="origin_res_model != 'product.product'">
                    <field name="origin_res_name" style="font-style: italic; text-decoration-line: underline;"/>
                </div>
            </xpath>
            <xpath expr="//div[hasclass('oe_kanban_global_area')]" position="attributes">
                <attribute name="t-att-style">(!record.active.raw_value) &amp;&amp; "background: linear-gradient(45deg, white 25%, lightgrey 25%, lightgrey 50%, white 50%, white 75%, lightgrey 75%); background-size: 20px 20px;"</attribute>
            </xpath>
        </field>
    </record>

</odoo>
