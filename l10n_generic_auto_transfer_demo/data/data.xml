<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">
        <record id="auto_transfer_journal" model="account.journal">
            <field name="company_id" ref="base.main_company"/>
            <field name="name">Automatic Transfers</field>
            <field name="code">ATRA</field>
            <field name="type">general</field>
            <field name="show_on_dashboard" eval="False"/>
        </record>

        <record id="monthly_model" model="account.transfer.model">
            <field name="name">Monthly account receivable auto transfers</field>
            <field name="date_start" eval="time.strftime('%Y-01-01')"/>
            <field name="frequency">month</field>
            <field name="journal_id" ref="auto_transfer_journal"/>
            <field name="account_ids" model="account.account" search="[('code', '=', '101200')]"/>
        </record>

        <record id="yearly_model" model="account.transfer.model">
            <field name="name">Yearly payable auto transfers</field>
            <field name="date_start" eval="time.strftime('%Y-01-01')"/>
            <field name="frequency">year</field>
            <field name="journal_id" ref="auto_transfer_journal"/>
            <field name="account_ids" model="account.account" search="['|',('code', '=', '111100'),('code', '=', '101300')]"/>
        </record>

        <record id="monthly_model_line_1" model="account.transfer.model.line">
            <field name="transfer_model_id" ref="monthly_model"/>
            <field name="account_id" model="account.account" eval="obj().search([('code', '=', '100000')])[0].id"/>
            <field name="percent" eval="35.0"/>
        </record>
        <record id="monthly_model_line_2" model="account.transfer.model.line">
            <field name="transfer_model_id" ref="monthly_model"/>
            <field name="account_id" model="account.account" eval="obj().search([('code', '=', '101000')])[0].id"/>
            <field name="percent" eval="45.0"/>
        </record>

        <record id="yearly_model_line_1" model="account.transfer.model.line">
            <field name="transfer_model_id" ref="yearly_model"/>
            <field name="account_id" model="account.account" eval="obj().search([('code', '=', '111000')])[0].id"/>
            <field name="percent" eval="77.5"/>
        </record>
        <record id="yearly_model_line_2" model="account.transfer.model.line">
            <field name="transfer_model_id" ref="yearly_model"/>
            <field name="account_id" model="account.account" eval="obj().search([('code', '=', '111300')])[0].id"/>
            <field name="percent" eval="22.5"/>
        </record>
    </data>
</odoo>
