<?xml version="1.0" encoding="UTF-8"?>
<odoo>
  <record id="rental_configurator_view_form" model="ir.ui.view">
    <field name="name">rental.configurator.form.inherit.stock</field>
    <field name="model">rental.wizard</field>
    <field name="inherit_id" ref="sale_renting.rental_configurator_view_form"/>
    <field name="arch" type="xml">
      <field name="quantity" position="replace">
          <label for="quantity"/>
          <div>
            <field name="quantity" class="oe_inline col-lg-3 text-left pl-0"/>
            <span class="oe_inline" attrs="{'invisible': [('is_product_storable', '=', False)]}">
              (
              <field name="qty_available_during_period" class="oe_inline" nolabel="1"/>
              &amp;#032;
              <field name="uom_id" class="oe_inline"/>
              Available )
            </span>
          </div>
          <field name="lot_ids" widget="many2many_tags" placeholder="Select available serial numbers." context="{'default_product_id': product_id}" attrs="{'invisible': [('tracking', '!=', 'serial')]}"/>
      </field>
      <xpath expr="//notebook" position="inside">
        <page string="Stock" attrs="{'invisible': [('is_product_storable', '=', False)]}">
          <field name="is_product_storable" invisible="1"/>
          <group>
            <group>
              <field name="warehouse_id" groups="stock.group_stock_multi_warehouses"/>
            </group>
            <group>
              <field name="rentable_qty"/>
              <field name="rented_qty_during_period"/>
              <field name="qty_available_during_period"/>
            </group>
          </group>
        </page>
        <page string="Serials Tracking" attrs="{'invisible': [('tracking', '!=', 'serial')]}">
          <field name="tracking" invisible="1"/>
          <group>
            <field name="rented_lot_ids" widget="many2many_tags"/>
            <field name="rentable_lot_ids" widget="many2many_tags"/>
          </group>
        </page>
      </xpath>
    </field>
  </record>

</odoo>
